<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="image/birthday-cake.png" type="image/x-icon">
    <title>Happy Birthday</title>
    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet" />
    <!-- Stylesheet -->
    <link rel="stylesheet" href="style/styles.css" />
  </head>
  <body>
    <div class="card" onmouseover="randomMessage()" onmouseleave="hoverFalse()">
      <div class="outside">
        <div class="front">
          <p>Happy Birthday</p>
          <div class="cake">
            <div class="top-layer"></div>
            <div class="middle-layer"></div>
            <div class="bottom-layer"></div>
            <div class="candle"></div>
          </div>
        </div>
        <div class="back">
          <div class="image-container">
            <img src="image/1.jpg" alt="" id="images">
          </div>
        </div>
      </div>
      <div class="inside">
        <p id="message"></p>
        <div class="emoji-container">
          <h1>&#127873;</h1>
          <h1>&#x2665;&#xfe0f;</h1>
        </div>
      </div>
    </div>
    <audio id="hbd">
      <source src="audio/happybday.mp3">
    </audio>
    <audio id="baby-hbd">
      <source src="audio/babyhbd.mp3">
    </audio>

    <!-- Include Confetti Library -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.4.0/dist/confetti.browser.min.js"></script>

    <script>
      let messages = ["Wishing you a very happy birthday", "Happy Birthday, enjoy your day", "I love you so much", "Wala na akong masabi, uwu", "Work well during your special day", "Wishing you the best things", "Happy Ninday!", "Gurang na is u", "Wishing you a beautiful day with good health", "I hope you can see how special you are to me", "May all your dreams come true"];
      let images = ["image/1.jpg", "image/2.jpeg", "image/3.jpeg", "image/4.jpeg", "image/5.jpeg", "image/6.jpeg"];
      let message = document.getElementById('message');
      let isHover = false;
      let firstSong = document.getElementById('hbd');
      let secondSong = document.getElementById('baby-hbd');
      let audios = [firstSong, secondSong];
      firstSong.volume = 1;
      secondSong.volume = 1;
      message.innerText = messages[0];

      window.onload = function() {
        confetti({
          particleCount: 200,
          spread: 100,
          origin: { y: 0.6 }
        });
      };

      function randomMessage() {
        if (!isHover) {
          let randomArrayMessage = Math.floor(Math.random() * messages.length);
          let randomArrayImage = Math.floor(Math.random() * images.length);
          let randomAudio = Math.floor(Math.random() * audios.length);
          message.innerText = messages[randomArrayMessage];
          document.getElementById('images').src = images[randomArrayImage];
          audios[randomAudio].play();
          isHover = true;

          confetti({
            particleCount: 100,
            spread: 70,
            origin: { y: 0.6 }
          });
        }
      }

      function hoverFalse() {
        audios.forEach(audio => {
          audio.pause();         
          audio.currentTime = 0;  
        });
        isHover = false;
      }
    </script>
  </body>
</html>
